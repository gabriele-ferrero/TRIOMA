

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Theory &mdash; TRIOMA 0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=2709fde1"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
      <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Theory" href="myproject.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            TRIOMA
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="myproject.html">Theory</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Theory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#blanket">Blanket</a></li>
<li class="toctree-l3"><a class="reference internal" href="#component">Component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#membrane-class">Membrane class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fluid-class">Fluid class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geometry-class">Geometry class</a></li>
<li class="toctree-l4"><a class="reference internal" href="#component-class-resume">Component class resume</a></li>
<li class="toctree-l4"><a class="reference internal" href="#note-on-heat-exchangers">Note on Heat Exchangers</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#circuit">Circuit</a></li>
<li class="toctree-l3"><a class="reference internal" href="#glc">GLC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#glc-gas-class">GLC_GAS class</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="myproject.html#installation">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="myproject.html#trioma-api-documentation">TRIOMA API Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">TRIOMA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="myproject.html">Theory</a></li>
      <li class="breadcrumb-item active">Theory</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/theory.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section class="tex2jax_ignore mathjax_ignore" id="theory">
<h1>Theory<a class="headerlink" href="#theory" title="Link to this heading"></a></h1>
<section id="blanket">
<h2>Blanket<a class="headerlink" href="#blanket" title="Link to this heading"></a></h2>
<p>The Breeding blanket is the most important component for an OFC, and is the source term for tritium in the loop. However, TRIOMA can also simulate experimental layouts, therefore it is not a mandatory component.</p>
<p>The breeding blanket is also the most complex component for the OFC, and TRIOMA can’t handle all the complexities derived by geometries and pulsed operations. This is mostly why steady state is considered, because the BB can be modeled as a balance of mass, hydrogen, and heat.
The necessary parameters to describe the breeding blanket are:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(c_{in}\)</span></p></li>
<li><p>Tritium Breeding ratio</p></li>
<li><p>Plasma power</p></li>
<li><p>mass flow rate</p></li>
<li><p>Fluid density</p></li>
</ul>
<p>from plasma power, the tritons per second of the plasma are evaluated as neutron per seconds <span class="math notranslate nohighlight">\(\cdot TBR\)</span>:
<span class="math notranslate nohighlight">\(t_{gen}=\frac{Q_{plasma}}{17.6\left[MeV\right] \cdot1,6022\cdot 10^{-19}\left[\frac{J}{eV}\right]}\cdot \frac{TBR}{N_A}  \)</span>
in <span class="math notranslate nohighlight">\( mol_T/s\)</span></p>
<p>Then <span class="math notranslate nohighlight">\(c_{out}\)</span> is evaluated as:</p>
<p><span class="math notranslate nohighlight">\(c_{out,lm}[mol_{T}/m^3]=c_{in}+\frac{t_{gen}}{\dot{m}_{breeder}/\rho_{breeder}}\)</span></p>
<p>for liquid metals, where hydrogen isotopes are in the atomic form T. In molten salts, the molecular form <span class="math notranslate nohighlight">\(T_2\)</span> is found, therefore is accounted in the balance of tritons per second:</p>
<p><span class="math notranslate nohighlight">\( c_{out,ms} [mol_{T_2}/m^3]=c_{in}+\frac{t_{gen}}{2\cdot \dot{m}_{breeder}/\rho_{breeder}}\)</span></p>
<p>For the Liquid Immersion Blanket of ARC-class reactors, the tritium carrier is also the power exhaust fluid. Therefore, it is possible to evaluate the mass flow rate from the BreedingBlanket.get_flowrate() method with a given <span class="math notranslate nohighlight">\(c_p\)</span> and <span class="math notranslate nohighlight">\(\Delta T\)</span>.</p>
<p>An application of the BreedingBlanket class can be seen at the circuit class <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/circuit_tutorial.ipynb">tutorial</a></p>
</section>
<section id="component">
<h2>Component<a class="headerlink" href="#component" title="Link to this heading"></a></h2>
<p>Component is the name used in TRIOMA for pipe components. This Class can describe the behaviour of heat exchangers, connection pipes and Permeation Against Vacuum Extractors, making it very useful for OFCs modeling.
In the pipe fluid, hydrogen transport is regulated by convective transport and is described as</p>
<p><span class="math notranslate nohighlight">\(
J = k_t \cdot (c_{bulk} - c_{w,l})
\)</span></p>
<p>where <span class="math notranslate nohighlight">\(k_t\)</span> is the mass transfer coefficient in <span class="math notranslate nohighlight">\(m/s\)</span>, <span class="math notranslate nohighlight">\(c_{bulk}\)</span> is the hydrogen concentration in the center of the liquid and <span class="math notranslate nohighlight">\(c_{w,l}\)</span> is the concentration at the wall.
Then, diffusive effects in the pipe wall are described through Richardson Law:</p>
<p><span class="math notranslate nohighlight">\(J=\frac{\phi}{r \cdot \ln\left(\frac{r_o}{r}\right)} \cdot \left( {\sqrt{p_{in,Q_2}}} - \sqrt{p_{out,Q_2}} \right)\)</span></p>
<p>Where <span class="math notranslate nohighlight">\(\phi\)</span> is the material permeability (<span class="math notranslate nohighlight">\(\phi=D\cdot K_S \)</span>), and <span class="math notranslate nohighlight">\({p_{in,Q_2}}\)</span> is the hydrogen partial pressure inside the pipe wall interface. In steady state condition, the two fluxes are equal. However, <span class="math notranslate nohighlight">\({p_{in,Q_2}}\)</span> is connected with <span class="math notranslate nohighlight">\(c_{w,l}\)</span> with two different functions depending by the fluid.
If the fluid is a liquid metal:</p>
<p><span class="math notranslate nohighlight">\(\sqrt{p_{Q_2}}=\frac{c_{w,l}}{K_{S,l}}=\frac{c_{w,s}}{K_{S,s}}\)</span></p>
<p>being <span class="math notranslate nohighlight">\(K_S\)</span> the Sieverts solubility constant, <span class="math notranslate nohighlight">\(K_{S,l}\)</span> in the liquid and <span class="math notranslate nohighlight">\(K_{S,s}\)</span> in the solid.
For a molten salt:</p>
<p><span class="math notranslate nohighlight">\(    c_{Q_2}={p_{Q_2}}{K_H}\)</span></p>
<p>and</p>
<p><span class="math notranslate nohighlight">\( p_{Q_2}=\frac{c_{Q_2,l}}{K_H}=\left(\frac{c_{Q,s}}{K_S}\right)^2\)</span></p>
<p>being <span class="math notranslate nohighlight">\(K_H\)</span> Henry Solubility constant.
In a fluid with hydrogen content, the change in concentration is described as:</p>
<p><span class="math notranslate nohighlight">\(
  \frac{\delta c_{bulk}(z)}{\delta z}=\frac{\pi d J}{v \pi \frac{d^2}{4}}=   \frac{-4J}{vd}
  \)</span></p>
<p>Then the solution for J is substituted in the previous equation, to evaluate <span class="math notranslate nohighlight">\(c_{out}\)</span> and <span class="math notranslate nohighlight">\(\eta\)</span>.
To do so, the component class needs all the ingriedients which correctly describe the component, which in TRIOMA are the Fluid, the Membrane and the Geometry classes. Without all the inputs, the hydrogen transport obviously cannot be solved.</p>
<section id="membrane-class">
<h3>Membrane class<a class="headerlink" href="#membrane-class" title="Link to this heading"></a></h3>
<p>The membrane class represents the pipe wall properties. The pipe wall characteristics mandatory for hydrogen transport are:</p>
<ul class="simple">
<li><p>Thickness [t]</p></li>
<li><p>Diffusivity [D]</p></li>
<li><p>Solubility [K_S]</p></li>
<li><p>Operating temperature [T]</p></li>
</ul>
</section>
<section id="fluid-class">
<h3>Fluid class<a class="headerlink" href="#fluid-class" title="Link to this heading"></a></h3>
<p>The fluid class represents the liquid carrying the hydrogen isotope. The fluid characteristics mandatory for hydrogen transport are:</p>
<ul class="simple">
<li><p>Operating temperature [T]</p></li>
<li><p>Solubility in the liquid [Solubility]</p></li>
<li><p>Diffusivity in the liquid [D]</p></li>
<li><p>Hydraulic diameter [d_Hyd]</p></li>
<li><p>Density [rho]</p></li>
<li><p>Velocity [U_0]</p></li>
<li><p>Viscosity [mu]</p></li>
<li><p>MS: is the fluid a molten salt (True) of a liquid metal (False)</p></li>
</ul>
<p>By these properties, <span class="math notranslate nohighlight">\(k_t\)</span> is evaluated through correlations</p>
</section>
<section id="geometry-class">
<h3>Geometry class<a class="headerlink" href="#geometry-class" title="Link to this heading"></a></h3>
<p>The geometry class represents the geometry of the component. It repeats some variables from fluid and membrane classes, as well as some of components.
The geometry characteristics needed for hydrogen transport are:</p>
<ul class="simple">
<li><p>Length of the pipe [L]</p></li>
<li><p>Inner diameter [D]</p></li>
<li><p>Thickness [t]</p></li>
<li><p>number of pipes [n_pipes]</p></li>
</ul>
</section>
<section id="component-class-resume">
<h3>Component class resume<a class="headerlink" href="#component-class-resume" title="Link to this heading"></a></h3>
<p>The component class represents the pipe.
The component characteristics needed for hydrogen transport are:</p>
<ul class="simple">
<li><p>Geometry</p></li>
<li><p>Fluid</p></li>
<li><p>Membrane</p></li>
<li><p><span class="math notranslate nohighlight">\(c_{in}\)</span> [c_in]</p></li>
</ul>
<p>An application of TRIOMA components is shown at the <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/tutorial.ipynb">tutorial</a>, the recirculation <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/recirculation.ipynb">tutorial</a></p>
</section>
<section id="note-on-heat-exchangers">
<h3>Note on Heat Exchangers<a class="headerlink" href="#note-on-heat-exchangers" title="Link to this heading"></a></h3>
<p>Heat exchangers have a temperature profile, which is not represented in TRIOMA 0D objects. Therefore, first the component is defined, then the split_HX function is used to build a Circuit made of shorter pipes, each with a temperature evaluated through an HX dimensioning built in TRIOMA.
To know how many segments are needed to evaluate correctly the transport in the HX, run the Component.converge_slit_HX() method. Example is seen in the <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/Heat_exchanger_tutorial.ipynb">HX Tutorial</a></p>
<p><img alt="Temperature distribution in HX" src="Figures%5CHX_temperature_profile.png" /></p>
<p><em>Figure 1: Temperature distrubution in a HX component.</em></p>
</section>
</section>
<section id="circuit">
<h2>Circuit<a class="headerlink" href="#circuit" title="Link to this heading"></a></h2>
<p>The circuit class is used to connect components and evaluate the global behaviour of the OFC considering interactions between components.
To simulate a circuit it is necessary to include</p>
<ul class="simple">
<li><p>components : a list of components( in order) which can be Component classes, GLC classes, Circuit classes (it extracts all its components and appends them to the list), Breeding blanket classes.</p></li>
<li><p>closed: a boolean variable to decide if the last component of the list must be connected to the first and make a closed loop.</p></li>
</ul>
<p>In particular, only one Breeding blanket is accepted. One real BB is already hard enough to build.</p>
<p>The connection simply is:
<span class="math notranslate nohighlight">\(c_{in}^{n+1}=c_{out}^n\)</span>
for the n component and the following (n+1) component.</p>
<p>The closed boolean makes the circuit run until the steady state solution is found , in which the hydrogen introduced in the circuit and the hydrogen extracted are the same quantity. In particular it is evaluated as :</p>
<p><span class="math notranslate nohighlight">\(c_{in,BB}=c_{out,OFC}(c_{in,BB})\)</span></p>
<p>where <span class="math notranslate nohighlight">\(c_{out,OFC}(c_{in,BB})\)</span> is the outlet concentration of the OFC when (c_{in,BB}) is the inlet at the breeding blanket.</p>
<p>If the circuit is open (closed=False), the inlet concentration of the first component overrides all other inlet concentration through the connection function.
An application of the Circuit class is shown at the circuit <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/circuit_tutorial.ipynb">tutorial</a>.</p>
</section>
<section id="glc">
<h2>GLC<a class="headerlink" href="#glc" title="Link to this heading"></a></h2>
<p>Gas liquid contactors are packed tower extractors in which a gas is put directly in contact with the fluid, and a packing increases mass transfer coefficients between the two. The modeling method is the Height of transfer Units and Number of transfer units (HTU-NTU) method.</p>
<p><img alt="Sketch for a GLC" src="Figures%5CGLC.png" />
<em>Figure 2:Sketch for a GLC component.</em></p>
<p>Mass transfer in GLC is described by the mass transfer coefficient <span class="math notranslate nohighlight">\(k_l\)</span> multiplied by contact area a in  <span class="math notranslate nohighlight">\(m^2/m^3\)</span>
In liquid metals, due to different forms , the Q flux is evaluated as:
<span class="math notranslate nohighlight">\(  0.5\cdot u_gdc_g=-u_Ldc_L=k_La(c_L-c_L^*)dz \)</span>
<span class="math notranslate nohighlight">\(c_L^*\)</span> is the liquid concentration when in equilibrium with the partial pressure of the sweep gas.</p>
<p><span class="math notranslate nohighlight">\(\left(\frac{c_L^*}{K_S}\right)^2=p_eq=c_GRT\)</span></p>
<p>Then combining and integrating the two equations gives:</p>
<p><span class="math notranslate nohighlight">\( NTU_{LM}=\int^{c_{L,in}}_{c_{L,out}} \frac{dc_L}{c_L-K_S\cdot((\frac{u_L}{2u_G}RT)^{1/2}-(c_L-c_{L,out}+c_{g,in}\frac{u_G}{2\cdot u_L})^{1/2}}\)</span>
and :</p>
<p><span class="math notranslate nohighlight">\( HTU=\frac{u_L}{k_La}\)</span></p>
<p><span class="math notranslate nohighlight">\(Z=HTU\cdot NTU\)</span></p>
<p>Where Z is the height of the packing. Therefore TRIOMA combines these equations in different ways:</p>
<ul class="simple">
<li><p>If Z is known, and <span class="math notranslate nohighlight">\(c_{out}\)</span> are known, <span class="math notranslate nohighlight">\(k_La\)</span> can be evaluated through GLC.get_kla_from_cout().</p></li>
<li><p>If <span class="math notranslate nohighlight">\(k_La\)</span> and Z are known, <span class="math notranslate nohighlight">\(c_{out}\)</span> is evaluated with get_c_out().</p></li>
<li><p>If <span class="math notranslate nohighlight">\(c_{out}\)</span> and <span class="math notranslate nohighlight">\(k_La\)</span> are known, the method get_z_from_eff() can evaluate the needed height to get a certain efficiency therefore the desired <span class="math notranslate nohighlight">\(c_{out}\)</span>.</p></li>
</ul>
<p>For molten salt systems, the functions are the same but the definition of <span class="math notranslate nohighlight">\(c_L^*\)</span> therefore NTU is different.</p>
<p><span class="math notranslate nohighlight">\(NTU_{MS}=\int^{c_{L,in}}_{c_{L,out}} \frac{dc_L}{c_L-K_H\frac{u_L}{u_G}RT\cdot\left(c_L-c_{L,out}+c_{g,in}\frac{u_G}{u_L}\right)}\)</span></p>
<p>To simulate a GLC, the following variables must be defined:</p>
<ul class="simple">
<li><p>GLC_GAS</p></li>
<li><p>Fluid (for Solubility, MS boolean)</p></li>
<li><p>two variables out of Z, k_La</p></li>
</ul>
<p>An application for GLC extractor is shown at the GLC <a class="reference external" href="https://github.com/gabriele-ferrero/TRIOMA/blob/main/Examples/GLC_tutorial.ipynb">tutorial</a></p>
<section id="glc-gas-class">
<h3>GLC_GAS class<a class="headerlink" href="#glc-gas-class" title="Link to this heading"></a></h3>
<p>This class is needed in the GLC class to store characteristics of the sweep gas. To simulate a GLC, the following variables are needed:</p>
<ul class="simple">
<li><p>Gas flowrate [G_gas]</p></li>
<li><p>inlet hydrogen isotope partial pressure [pg_in]</p></li>
<li><p>gas pressure [p_tot]</p></li>
</ul>
<p>from the hydrogen balance, pg_out is evaluated when using the get_c_out() of GLC class.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="myproject.html" class="btn btn-neutral float-left" title="Theory" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Gabriele Ferrero Samuele Meschini.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>